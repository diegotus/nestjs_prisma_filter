"use strict";var u=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var b=(n,t)=>{for(var e in t)u(n,e,{get:t[e],enumerable:!0})},D=(n,t,e,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of f(t))!d.call(n,i)&&i!==e&&u(n,i,{get:()=>t[i],enumerable:!(a=p(t,i))||a.enumerable});return n};var k=n=>D(u({},"__esModule",{value:!0}),n);var R={};b(R,{handleSearchData:()=>w,isEmptyEnum:()=>m});module.exports=k(R);var g=(e=>(e[e.null=0]="null",e[e.notNul=1]="notNul",e))(g||{});function m(n){return Object.values(g).includes(n)}var r=require("lodash");function w(n){let t={where:{},skip:n.skip,take:n.take};if(n.columns&&c(n.columns,t.where),(n.or||n.and)&&(0,r.merge)(t.where,(0,r.reduce)((0,r.pick)(n,["or","and"]),(e,a,i)=>{let s={};if(c(a,s),!(0,r.isEmpty)(s)){let o=i.toUpperCase();(0,r.has)(e,o)||(0,r.set)(e,o,[]),e[o].push(s)}return e},{})),n.dateRange){let{from:e,to:a,name:i}=n.dateRange;e&&(0,r.set)(t.where,i+".gte",new Date(new Date(e).setHours(0,0,0,0))),a&&(0,r.set)(t.where,i+".lte",new Date(new Date(a).setHours(23,59,59,999)))}return t}function c(n,t){if(n)for(let e of n)e.search&&(0,r.set)(t,e.name,y(e.search))}function y(n){return(0,r.isArray)(n)?(0,r.reduce)(n,(t,e,a)=>((0,r.set)(t,`in[${a}]`,l(e)),t),{}):l(n)}function l(n){return(0,r.isString)(n)&&m(n)?n=="null"?{is:null}:{not:null}:n}0&&(module.exports={handleSearchData,isEmptyEnum});
